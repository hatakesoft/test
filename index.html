<!doctype html>

<html>

<head>
	<meta charset="utf-8">
	<title>桃太郎電鉄</title>
	<style>
		body,
		html {
			margin: 0;
			overflow: hidden;
			padding: 0;
		}

		.screen {
			display: none;
		}

		.active {
			display: block;
		}

		#canvas {
			background-color: deepskyblue;
			color: black;
			cursor: pointer;
		}

		#startButton {
			background-color: white;
			color: black;
			cursor: pointer;
		}

		@media (min-aspect-ratio: 1/1) {
			#canvas {
				position: absolute;
				left: calc((100vw - 100vh) / 2);
				top: 0;
				width: 100vh;
				height: 100vh;
			}

			#startButton {
				position: absolute;
				left: calc((100vw - 100vh) / 2 + 100vh / 28 * 3);
				top: calc(100vh / 14 * 5);
				width: calc(100vh / 14 * 11);
				height: calc(100vh / 14 * 3);
				font-size: calc(100vh / 9);
			}

			#continueButton {
				position: absolute;
				left: calc((100vw - 100vh) / 2 + 100vh / 28 * 3);
				top: calc(100vh / 14 * 9);
				width: calc(100vh / 14 * 11);
				height: calc(100vh / 14 * 3);
				font-size: calc(100vh / 9);
			}
		}

		@media (max-aspect-ratio: 1/1) {
			#canvas {
				position: absolute;
				left: 0;
				top: calc((100vh - 100vw) / 2);
				width: 100vw;
				height: 100vw;
			}

			#startButton {
				position: absolute;
				left: calc(100vw / 28 * 3);
				top: calc((100vh - 100vw) / 2 + 100vw / 14 * 5);
				width: calc(100vw / 14 * 11);
				height: calc(100vw / 14 * 3);
				font-size: calc(100vw / 9);
			}

			#continueButton {
				position: absolute;
				left: calc(100vw / 28 * 3);
				top: calc((100vh - 100vw) / 2 + 100vw / 14 * 9);
				width: calc(100vw / 14 * 11);
				height: calc(100vw / 14 * 3);
				font-size: calc(100vw / 9);
			}
		}
	</style>
</head>

<body>
	<canvas id="canvas"></canvas>
	<div id="home" class="screen active">
		<button id='startButton'>初めから</button>
		<button id='continueButton'>続きから</button>
	</div>
	<div id="init" class="screen">
	</div>
	<div id="loadData" class="screen">
	</div>
	<script>

const ModeType = {
	HOME: 0,
	INIT: 1, // 初めから
	LOAD_DATE: 2, // 続きから
};

class Train {
	constructor(name, color) {
		this.name = name;
		this.color = color;
	}
}

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let mode = ModeType.HOME;
let n;

function showScreen(id) {
	document.querySelectorAll('.screen').forEach(function(screen) {
		screen.classList.remove('avtive');
	});
	document.getElementById(id).classList.add('active');
}

function draw() {
	ctx.clearRect(0, 0, n, n);

	switch(mode) {
		case ModeType.HOME:
			ctx.font = `${n / 5.5}px Arial`;
			ctx.fillStyle = 'black';
			ctx.fillText('桃太郎電鉄', (n - ctx.measureText('桃太郎電鉄').width) / 2, n / 7 * 2);
		//	ctx.fillStyle = 'white';
		//	ctx.fillRect(n / 28 * 3, n / 14 * 5, n / 14 * 11, n / 14 * 3);
		//	ctx.fillRect(n / 28 * 3, n / 14 * 9, n / 14 * 11, n / 14 * 3);
		//	ctx.font = `${n / 9}px Arial`;
		//	ctx.fillStyle = 'black';
		//	ctx.fillText('初めから', (n - ctx.measureText('初めから').width) / 2, n / 14 * 7);
		//	ctx.fillText('続きから', (n - ctx.measureText('続きから').width) / 2, n / 14 * 11);
			break;
	}
}

canvas.addEventListener('pointerdown', function(event) {
	const rect = canvas.getBoundingClientRect();
	const mouseX = event.clientX - rect.left;
	const mouseY = event.clientY - rect.top;
	if(
		mouseX >= n / 28 * 3 &&
		mouseX <= n / 28 * 25 &&
		mouseY >= n / 14 * 5 &&
		mouseY <= n / 14 * 8
	) {
		mode = ModeType.INIT;
	} else if(
		mouseX >= n / 28 * 3 &&
		mouseX <= n / 28 * 25 &&
		mouseY >= n / 14 * 9 &&
		mouseY <= n / 14 * 12
	) {
		mode = ModeType.LOAD_DATE;
	}

	draw();
});

document.getElementById('startButton').addEventListener('onclick', function() {
	showScreen('init');
});

document.getElementById('continueButton').addEventListener('onclick', function() {
	showScreen('loadData')
});

window.addEventListener('load', function() {
	const canvas = document.getElementById('canvas');
	canvas.width = canvas.offsetWidth;
	canvas.height = canvas.offsetHeight;
	n = canvas.width;
	draw();
});

	</script>
</body>

</html>
